import os
import csv
data_csv = os.path.join ("Resources","budget_data.csv")
# Open and read csv
with open(data_csv) as csv_file:
    csv_reader = csv.reader(csv_file, delimiter=",")
    # Read the header row first 
    csv_header = next(csv_file)
    print(f"Header: {csv_header}")
    
    # setting variables 
    total_months = 0
    net_total = 0
    previous_profit_loss = []
    total_change = 0
    change_list = []
    greatest_increase = ["",0]
    greatest_decrease = ["", 199999999]
    

    #loop through file
    for row in csv_reader:
        date = [0]
        profit_loss = int(row[1])
        
        # calculating total number of months
        first_row = next(csv_reader)
        total_months += 1
        net_total += int(first_row[1])
        previous_profit_loss = int(first_row[1])
        #net_total += profit_loss

        # cal change
        if total_months > 1:
            change = profit_loss - previous_profit_loss
            total_change += change
            change_list.append(change)

            #find greatest increase and decrease 
        if profit_loss > greatest_increase[1]:
            greatest_increase = [date,profit_loss]

        if profit_loss < greatest_decrease[1]:
            greatest_decrease = [date, profit_loss]

        previous_profit_loss = profit_loss




        #net total of profits and losses
        #net_total = int(net_total) + int(row["profit_loss"])

       

        # change in profit and losses 
        total_change = int(row["profit_loss"]) - previous_profit_loss
        previous_profit_loss = int(row["profit_loss"])


